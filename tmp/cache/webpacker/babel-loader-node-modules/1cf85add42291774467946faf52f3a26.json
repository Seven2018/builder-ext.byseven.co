{"ast":null,"code":"import Sortable from 'sortablejs';\n\nvar initSortable = function initSortable() {\n  var list = document.querySelector('#items');\n  Sortable.create(list, {\n    ghostClass: 'ghost',\n    onEnd: function onEnd(event) {\n      var newPosition = event.newIndex + 1;\n      var itemId = event.item.dataset.itemId;\n      var formData = new FormData();\n      formData.append('position', newPosition);\n      Rails.ajax({\n        type: \"POST\",\n        url: \"/content_module/\".concat(itemId),\n        data: formData\n      });\n    }\n  });\n};\n\nexport { initSortable };","map":{"version":3,"sources":["/Users/brice/code/Seven2018/builder.byseven.co/app/javascript/plugins/init_sortable.js"],"names":["Sortable","initSortable","list","document","querySelector","create","ghostClass","onEnd","event","newPosition","newIndex","itemId","item","dataset","formData","FormData","append","Rails","ajax","type","url","data"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,YAArB;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzB,MAAMC,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAb;AACAJ,EAAAA,QAAQ,CAACK,MAAT,CAAgBH,IAAhB,EAAsB;AACpBI,IAAAA,UAAU,EAAE,OADQ;AAEpBC,IAAAA,KAAK,EAAE,eAACC,KAAD,EAAW;AAChB,UAAMC,WAAW,GAAGD,KAAK,CAACE,QAAN,GAAiB,CAArC;AACA,UAAMC,MAAM,GAAGH,KAAK,CAACI,IAAN,CAAWC,OAAX,CAAmBF,MAAlC;AACA,UAAMG,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4BP,WAA5B;AAEAQ,MAAAA,KAAK,CAACC,IAAN,CAAW;AACTC,QAAAA,IAAI,EAAE,MADG;AAETC,QAAAA,GAAG,4BAAqBT,MAArB,CAFM;AAGTU,QAAAA,IAAI,EAAEP;AAHG,OAAX;AAKD;AAbmB,GAAtB;AAeD,CAjBD;;AAmBA,SAASb,YAAT","sourcesContent":["import Sortable from 'sortablejs';\n\nconst initSortable = () => {\n  const list = document.querySelector('#items');\n  Sortable.create(list, {\n    ghostClass: 'ghost',\n    onEnd: (event) => {\n      const newPosition = event.newIndex + 1;\n      const itemId = event.item.dataset.itemId;\n      const formData = new FormData();\n      formData.append('position', newPosition);\n\n      Rails.ajax({\n        type: \"POST\",\n        url: `/content_module/${itemId}`,\n        data: formData\n      })\n    }\n  });\n};\n\nexport { initSortable };\n"]},"metadata":{},"sourceType":"module"}